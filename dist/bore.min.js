"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_superPropBase(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createSuper(n){return function(){var t,e=_getPrototypeOf(n);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){a=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var bore=function(){function t(r){return function(){_inherits(e,r);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"draw",value:function(){_get(_getPrototypeOf(e.prototype),"draw",this).call(this);var t=this.svg.append("text").text(this.title).attr("class","title-text").attr("transform","translate(10, 10)").attr("alignment-baseline","hanging");this.subtitle&&this.svg.append("text").text(this.subtitle).attr("class","subtitle-text").attr("transform","translate(10, ".concat(t.node().getBBox().height+20,")"))}}]),e}()}var e=function(){function o(t,e,r,n,a){_classCallCheck(this,o),this.el=document.querySelector(t),this.width=e,this.height=r,this.margins=n,this.data=a;var i=_slicedToArray(this.initVis(this.el,e,r,n),4);this.g=i[0],this.svg=i[1],this.trueWidth=i[2],this.trueHeight=i[3],this.draw=this.draw.bind(this)}return _createClass(o,[{key:"initVis",value:function(t,e,r,n){var a=e+n.left+n.right,i=r+n.top+n.bottom+14,o=d3.select(t).append("svg").attr("viewBox","0 0 ".concat(a," ").concat(i)).attr("width",a);return[o.append("g").attr("transform","translate(".concat(n.left,", ").concat(n.top,")")),o,a,i]}},{key:"draw",value:function(){this.svg.append("text").text("".concat(this.author," / ").concat("Michigan Daily")).attr("transform","translate(".concat(this.trueWidth-this.margins.right-4,", ").concat(this.trueHeight-4,")")).attr("text-anchor","end").attr("alignment-baseline","baseline").attr("class","credit-text")}}]),o}(),r=function(){_inherits(s,t(e));var o=_createSuper(s);function s(t,e,r,n,a){var i;return _classCallCheck(this,s),(i=o.call(this,t,e,r,n,a)).stroke="black",i.pointerStroke=i.stroke,i.xscale=d3.scaleLinear().domain(d3.extent(i.data.map(function(t){return t.x}))).range([0,i.width]),i.xaxis=d3.axisBottom(i.xscale),i.yscale=d3.scaleLinear().domain(d3.extent(i.data.map(function(t){return t.y}))).range([i.height,0]),i.yaxis=d3.axisLeft(i.yscale),i.mouseMove=i.mouseMove.bind(_assertThisInitialized(i)),i}return _createClass(s,[{key:"getData",value:function(){return this.data}},{key:"hoverFormat",value:function(t){return t.y}},{key:"mouseMove",value:function(){var e=this,t=d3.bisector(function(t){return t.x}).right,r=this.getData(),n=this.xscale.invert(d3.mouse(d3.event.currentTarget)[0]),a=t(r,n,0),i=a-1,o=[n-r[i].x,r[a].x-n],s=r[i+d3.minIndex(o)],l=this.g.selectAll("circle").data([s]);l.enter().append("circle").merge(l).attr("r","2.5").attr("stroke",this.pointerStroke).attr("fill","none").attr("cx",function(t){return e.xscale(t.x)}).attr("cy",function(t){return e.yscale(t.y)}),l.exit().remove();var c=this.g.selectAll("text").filter(".hover-label").data([s]);c.enter().append("text").attr("class","hover-label").merge(c).attr("x",function(t){return e.xscale(t.x)+5}).attr("y",function(t){return e.yscale(t.y)+5}).attr("alignment-baseline","hanging").text(function(t){return e.hoverFormat(t)})}},{key:"draw",value:function(){var e=this,t=this.getData();this.xscale.domain(d3.extent(t.map(function(t){return t.x}))),this.yscale.domain(d3.extent(t.map(function(t){return t.y})));var r=d3.line()(t.map(function(t){return[e.xscale(t.x),e.yscale(t.y)]}));this.g.append("path").attr("d",r).attr("stroke",this.stroke).attr("fill","none"),this.g.append("rect").attr("fill","none").attr("width",this.width).attr("height",this.height).style("pointer-events","all").on("mousemove",this.mouseMove),this.g.append("g").call(this.yaxis).attr("transform","translate(-5, 0)"),this.g.append("g").call(this.xaxis).attr("transform","translate(0, ".concat(this.height+5,")")),_get(_getPrototypeOf(s.prototype),"draw",this).call(this)}}]),s}();return{Visualization:e,titleMixin:t,LinePlot:r,MultiLinePlot:function(){_inherits(u,t(e));var o=_createSuper(u);function u(t,e,r,n,a){var i;return _classCallCheck(this,u),(i=o.call(this,t,e,r,n,a)).stroke="black",i.pointerStroke=i.stroke,i.colors=d3.schemeCategory10,i.xscale=d3.scaleLinear().range([0,i.width]),i.xaxis=d3.axisBottom(i.xscale),i.yscale=d3.scaleLinear().range([i.height,0]),i.yaxis=d3.axisLeft(i.yscale),i.mouseMove=i.mouseMove.bind(_assertThisInitialized(i)),i}return _createClass(u,[{key:"getData",value:function(t){return t}},{key:"hoverFormat",value:function(t){return t.y}},{key:"mouseMove",value:function(){var t,e=this,r=d3.bisector(function(t){return t.x}).right,n=this.xscale.invert(d3.mouse(d3.event.currentTarget)[0]),a=[],i=_createForOfIteratorHelper(this.data.entries());try{for(i.s();!(t=i.n()).done;){var o=_slicedToArray(t.value,2),s=o[0],l=o[1],c=this.getData(l),u=r(c,n,0)>=c.length?c.length-1:r(c,n,0),f=u-1<0?0:u-1,h=[n-c[f].x,c[u].x-n],y=c[f+d3.minIndex(h)];y.ind=s,a.push(y)}}catch(t){i.e(t)}finally{i.f()}var p=this.g.selectAll("circle").data(a);p.enter().append("circle").merge(p).attr("r","2.5").attr("stroke",this.pointerStroke).attr("fill","none").attr("cx",function(t){return e.xscale(t.x)}).attr("cy",function(t){return e.yscale(t.y)}),p.exit().remove();var d=this.g.selectAll("text").filter(".hover-label").data(a);d.enter().append("text").attr("class","hover-label").merge(d).attr("x",function(t){return e.xscale(t.x)+5}).attr("y",function(t){return e.yscale(t.y)+5}).attr("alignment-baseline","hanging").text(function(t){return e.hoverFormat(t)})}},{key:"draw",value:function(){var o,s=this,l=this.data.map(function(t){return s.getData(t)}).flat(),c=d3.line(),e=_createForOfIteratorHelper(this.data.entries());try{var t=function(){var t=_slicedToArray(o.value,2),e=t[0],r=t[1],n=s.getData(r),a=void 0,i=void 0;a=s.xscale[e]?s.xscale[e].domain(d3.extent(n.map(function(t){return t.x}))):s.xscale.domain(d3.extent(l.map(function(t){return t.x}))),i=s.yscale[e]?s.yscale[e].domain(d3.extent(n.map(function(t){return t.y}))):s.yscale.domain(d3.extent(l.map(function(t){return t.y}))),s.yaxis[e]?s.yaxis[e].scale(i):s.yaxis.scale(i),s.xaxis[e]?s.xaxis[e].scale(a):s.xaxis.scale(a),s.g.append("path").attr("d",c(n.map(function(t){return[a(t.x),i(t.y)]}))).attr("stroke",s.colors[e%s.colors.length]).attr("fill","none")};for(e.s();!(o=e.n()).done;)t()}catch(t){e.e(t)}finally{e.f()}this.g.append("rect").attr("fill","none").attr("width",this.width).attr("height",this.height).style("pointer-events","all").on("mousemove",this.mouseMove),this.yaxis[0]?(this.g.append("g").call(this.yaxis[0]).attr("transform","translate(-5, 0)"),this.g.append("g").call(this.yaxis[1]).attr("transform","translate(".concat(this.width+5,", 0)"))):this.g.append("g").call(this.yaxis).attr("transform","translate(-5, 0)"),this.g.append("g").call(this.xaxis).attr("transform","translate(0, ".concat(this.height+5,")")),_get(_getPrototypeOf(u.prototype),"draw",this).call(this)}}]),u}(),CumulativeCount:function(){_inherits(o,r);var i=_createSuper(o);function o(t,e,r,n,a){return _classCallCheck(this,o),i.call(this,t,e,r,n,a)}return _createClass(o,[{key:"getData",value:function(){var r=d3.cumsum(this.data.map(function(t){return t.y}));return this.data.map(function(t,e){return{x:t.x,y:r[e]}})}},{key:"draw",value:function(){_get(_getPrototypeOf(o.prototype),"draw",this).call(this)}}]),o}()}}();